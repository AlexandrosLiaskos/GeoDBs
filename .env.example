# Supabase Configuration
# Copy this file to .env and fill in your actual Supabase credentials.
# IMPORTANT: Add .env to your .gitignore file to prevent committing secrets to version control.

# Required Supabase Variables
# These can be found in your Supabase dashboard under Project Settings > API

# The Supabase project URL (format: https://your-project-id.supabase.co)
# Found in Project Settings > API
SUPABASE_URL=https://your-project-id.supabase.co

# The anonymous/public API key for client-side operations
# Found in Project Settings > API > Project API keys > anon public
# This key is safe to use in frontend code
SUPABASE_ANON_KEY=your-anon-key-here

# The service role key for server-side operations with elevated privileges
# Found in Project Settings > API > Project API keys > service_role
# WARNING: This key bypasses Row Level Security and should NEVER be exposed in frontend code
# Keep this secret and use only on the server-side
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Optional Variables for Migration
# PostgreSQL connection string for direct database access during migration
# Format: postgresql://postgres:[password]@db.[project-id].supabase.co:5432/postgres
# This is only needed if you plan to run migration scripts that require direct database access
DATABASE_URL=postgresql://postgres:your-password@db.your-project-id.supabase.co:5432/postgres

# Rate Limiting Configuration (Optional)
# These values are used for documentation purposes. The actual rate limiting is now
# enforced by Supabase Row Level Security (RLS) policies defined in db/migrations/supabase_rls_policies.sql
# If you change these values, make sure to update the RLS policy SQL file accordingly.

# Maximum submissions allowed per IP address per day
# NOTE: IP-based rate limiting is NOT enforced in RLS policies because the submission_ip
# field is client-provided and can be easily spoofed. This value is kept for reference
# and potential future implementation with a trusted IP detection service.
MAX_SUBMISSIONS_PER_IP_DAY=5

# Maximum submissions allowed per email address per week (7 days)
# This limit is enforced at the database level through RLS policies in the
# submissions_public_insert policy. If you change this value, you MUST also update
# the hardcoded value (10) in db/migrations/supabase_rls_policies.sql
MAX_SUBMISSIONS_PER_EMAIL_WEEK=10

# reCAPTCHA Configuration (Optional, for future use)
# These variables are for the legacy FastAPI backend and are not currently used
# with the Supabase-based frontend. Include these if you plan to implement
# server-side bot protection or reCAPTCHA verification.

# Google reCAPTCHA v2/v3 secret key for server-side verification
# Obtain from: https://www.google.com/recaptcha/admin
# Optional: Only needed if implementing server-side reCAPTCHA verification
RECAPTCHA_SECRET_KEY=